/* ==========================================================================
   Incidence — mini-site statique (GitHub Pages)
   Design: premium, moderne, aéré (menu en haut, hairlines, accents dorés discrets)
   ========================================================================== */

:root{
  /* Neutres premium */
  --bg: #ffffff;
  --paper: #fbfaf8;
  --text: #15181b;
  --muted: #5f6670;
  --muted2: #7b838e;

  /* Hairlines (barres fines) */
  --line: rgba(21,24,27,.12);
  --line2: rgba(21,24,27,.18);

  /* Palette issue du logo Incidence (touches discrètes) */
  --gold: #c9a34a;        /* dérivé du jaune #F5D04D, “muted” */
  --gold2: #b9933f;
  --green: #7fae6a;       /* dérivé du vert #9FC283 */
  --blue: #5f7fbf;        /* dérivé du bleu #7894C8 */
  --red: #d64545;         /* à éviter en UI (réservé à micro-accents) */

  --shadow: 0 22px 64px rgba(21,24,27,.08);
  --shadow2: 0 10px 30px rgba(21,24,27,.06);
  --radius: 22px;
  --radius-sm: 14px;

  --max: 1120px;

  --serif: "Cormorant Garamond", ui-serif, Georgia, serif;
  --sans: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  font-family: var(--sans);
  color: var(--text);
  background: var(--bg);
  line-height: 1.7;
  font-size: 15.5px;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

img{ max-width:100%; height:auto; display:block; }
a{ color: inherit; }
code{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: .95em; }

::selection{ background: rgba(201,163,74,.22); }

.sr-only{
  position:absolute !important;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);
  white-space:nowrap;border:0;
}

.skip-link{
  position:absolute;
  left:12px; top:12px;
  padding:10px 12px;
  background: var(--paper);
  border:1px solid var(--line2);
  border-radius: 12px;
  transform: translateY(-160%);
  transition: transform .2s ease;
  z-index: 9999;
}
.skip-link:focus{ transform: translateY(0); outline: 2px solid rgba(201,163,74,.7); outline-offset: 2px; }

/* --------------------------------------------------------------------------
   Top header (menu en haut)
   -------------------------------------------------------------------------- */

.site-header{
  position: sticky;
  top:0;
  z-index: 60;
  background: rgba(255,255,255,.82);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--line);
}
.site-header__inner{
  max-width: var(--max);
  margin: 0 auto;
  padding: 16px 18px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 14px;
}

.brand{ min-width: 0; }
.brand__mark{
  display:flex;
  align-items:center;
  gap: 12px;
  text-decoration:none;
  min-width: 0;
}
.brand__logo{
  width: 34px; height: 34px;
  border-radius: 12px;
  object-fit: contain;
  background: rgba(255,255,255,.8);
  border: 1px solid rgba(21,24,27,.08);
  padding: 6px;
}
.brand__text{ display:flex; flex-direction:column; min-width:0; }
.brand__title{
  font-family: var(--serif);
  font-weight: 600;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: 15px;
  line-height: 1.1;
}
.brand__sub{
  color: var(--muted);
  font-size: 12.5px;
  margin-top: 2px;
  white-space: nowrap;
  overflow:hidden;
  text-overflow: ellipsis;
}

/* Nav base */
.nav{
  display:flex;
  align-items:center;
  gap: 14px;
}
.nav__group{
  display:flex;
  align-items:center;
  gap: 14px;
}
.nav__divider{
  width: 1px;
  height: 18px;
  background: rgba(21,24,27,.10);
  margin: 0 2px;
}
.nav__link{
  position: relative;
  text-decoration:none;
  color: rgba(21,24,27,.78);
  font-size: 13.5px;
  letter-spacing: .01em;
  padding: 8px 4px;
  transition: color .18s ease;
}
.nav__link:hover{ color: var(--text); }
.nav__link::after{
  content:"";
  position:absolute;
  left: 4px;
  right: 4px;
  bottom: 4px;
  height: 1px;
  background: linear-gradient(90deg, rgba(201,163,74,.0), rgba(201,163,74,.9), rgba(201,163,74,.0));
  transform: scaleX(0);
  transform-origin: center;
  transition: transform .22s ease;
  opacity: .9;
}
.nav__link:hover::after{ transform: scaleX(1); }
.nav__link.is-active{ color: var(--text); }
.nav__link.is-active::after{ transform: scaleX(1); opacity: .75; }

.nav__link--ext{ color: rgba(21,24,27,.68); }

/* Mobile nav toggle */
.nav-toggle{
  display:none;
  appearance:none;
  border: 1px solid rgba(21,24,27,.12);
  background: rgba(255,255,255,.72);
  border-radius: 12px;
  width: 44px; height: 44px;
  box-shadow: 0 12px 26px rgba(21,24,27,.06);
}
.nav-toggle:focus{ outline: 2px solid rgba(201,163,74,.7); outline-offset: 2px; }
.nav-toggle__icon{
  display:block;
  width: 18px; height: 2px;
  background: var(--text);
  margin: 0 auto;
  position: relative;
}
.nav-toggle__icon::before,
.nav-toggle__icon::after{
  content:"";
  position:absolute; left:0;
  width:18px;height:2px;
  background: var(--text);
}
.nav-toggle__icon::before{ top:-6px; }
.nav-toggle__icon::after{ top:6px; }

/* Drawer behavior */
@media (max-width: 979px){
  .nav-toggle{ display:inline-flex; align-items:center; justify-content:center; }
  .nav{
    position: fixed;
    inset: 78px 12px auto 12px;
    display:block;
    background: rgba(255,255,255,.96);
    border: 1px solid rgba(21,24,27,.14);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 14px;
    max-height: calc(100vh - 96px);
    overflow:auto;
    transform: translateY(-10px);
    opacity:0;
    pointer-events:none;
    transition: opacity .18s ease, transform .18s ease;
  }
  .nav__group{
    display:flex;
    flex-direction:column;
    align-items:stretch;
    gap: 2px;
  }
  .nav__divider{
    width: 100%;
    height: 1px;
    margin: 10px 0;
    background: rgba(21,24,27,.10);
  }
  .nav__link{
    padding: 10px 10px;
    border-radius: 12px;
  }
  .nav__link::after{ display:none; }
  .nav__link:hover{ background: rgba(201,163,74,.10); }
  body[data-nav-open="true"] .nav{
    opacity:1;
    transform: translateY(0);
    pointer-events:auto;
  }
}

/* --------------------------------------------------------------------------
   Layout
   -------------------------------------------------------------------------- */

.site-main{
  max-width: var(--max);
  margin: 0 auto;
  padding: 54px 18px 84px;
}

.hairline{
  height: 1px;
  background: linear-gradient(90deg, rgba(21,24,27,0), rgba(21,24,27,.14), rgba(21,24,27,0));
  opacity: .85;
}

.kicker{
  display:flex;
  align-items:center;
  gap: 10px;
  color: rgba(21,24,27,.72);
  font-size: 11px;
  letter-spacing: .18em;
  text-transform: uppercase;
  margin: 0 0 12px;
}
.kicker::before{
  content:"";
  width: 22px;
  height: 1px;
  background: rgba(201,163,74,.75);
}
.hero__title,
.page-title{
  font-family: var(--serif);
  text-transform: uppercase;
  letter-spacing: .07em;
  line-height: 1.08;
}
.hero__title{
  font-size: clamp(28px, 3.1vw, 42px);
  margin: 0 0 14px;
}
.page-title{
  font-size: clamp(26px, 2.6vw, 38px);
  margin: 0 0 10px;
}

.hero{ padding: 0; }
.hero__inner{ max-width: 78ch; }
.hero__lead{
  color: rgba(21,24,27,.78);
  font-size: 15.5px;
  margin: 0 0 16px;
}
.hero__cta{ display:flex; gap: 12px; flex-wrap: wrap; margin: 18px 0 6px; }

.section{ padding: 56px 0; }
.section--tight{ padding: 38px 0; }
.section__head{ margin-bottom: 16px; }
.section__head h2{
  font-family: var(--serif);
  text-transform: uppercase;
  letter-spacing: .07em;
  margin: 0 0 10px;
  font-size: 22px;
  line-height: 1.12;
  position: relative;
}
.section__head h2::after{
  content:"";
  display:block;
  margin-top: 10px;
  height: 1px;
  background: linear-gradient(90deg, rgba(201,163,74,.0), rgba(201,163,74,.55), rgba(201,163,74,.0));
  opacity: .75;
}
.section__cta{
  margin-top: 18px;
  display:flex;
  gap: 12px;
  flex-wrap: wrap;
}

.muted{ color: var(--muted); }
.micro{ color: rgba(95,102,112,.92); font-size: 12.5px; margin: 10px 0 0; }

.bullets{
  margin: 14px 0 0;
  padding-left: 18px;
  color: rgba(21,24,27,.78);
}
.bullets li{ margin: 6px 0; }

/* Links */
.text-link{
  color: rgba(21,24,27,.85);
  text-decoration: none;
  background-image: linear-gradient(transparent, transparent), linear-gradient(rgba(201,163,74,.55), rgba(201,163,74,.55));
  background-size: 100% 0, 0 1px;
  background-position: 0 100%, 0 100%;
  background-repeat: no-repeat;
  transition: background-size .22s ease, color .22s ease;
}
.text-link:hover{
  color: var(--text);
  background-size: 100% 0, 100% 1px;
}

/* Cards */
.cards{
  display:grid;
  gap: 14px;
  grid-template-columns: 1fr;
}
.cards--tight{ gap: 12px; }
@media (min-width: 820px){
  .cards{ grid-template-columns: repeat(3, 1fr); }
  .cards--tight{ grid-template-columns: repeat(2, 1fr); }
}
.card{
  background: rgba(255,255,255,.9);
  border: 1px solid rgba(21,24,27,.12);
  border-radius: var(--radius);
  padding: 18px;
  box-shadow: 0 1px 0 rgba(21,24,27,.02);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.card:hover{
  transform: translateY(-2px);
  border-color: rgba(201,163,74,.28);
  box-shadow: var(--shadow2);
}
.card h3{ margin: 0 0 8px; font-size: 16px; }
.card__meta{ margin-top: 10px; color: rgba(95,102,112,.86); font-size: 12.5px; }
.card__title{ margin: 0 0 8px; font-size: 16px; font-weight: 600; }
.card__title a{ text-decoration:none; }
.card__title a:hover{ color: var(--text); }

/* Split */
.section--split{ display:grid; gap: 18px; }
@media (min-width: 920px){
  .section--split{ grid-template-columns: 1.15fr .85fr; align-items:start; }
}

/* Callout */
.callout{
  background: rgba(251,250,248,.85);
  border: 1px solid rgba(201,163,74,.22);
  border-radius: var(--radius);
  padding: 18px;
  box-shadow: 0 1px 0 rgba(21,24,27,.02);
}
.callout h3{ margin: 0 0 8px; font-size: 16px; }

.checklist{ list-style:none; padding:0; margin: 10px 0 0; }
.checklist li{ padding-left: 26px; margin: 10px 0; position: relative; }
.checklist li::before{
  content:"";
  position:absolute;
  left:0; top: 7px;
  width: 14px; height: 14px;
  border-radius: 6px;
  border: 1px solid rgba(201,163,74,.55);
  background: rgba(201,163,74,.12);
}

.mini-list{ margin: 10px 0 0; padding-left: 18px; }
.mini-list li{ margin: 6px 0; }

/* Buttons */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
  text-decoration:none;
  border-radius: 999px;
  padding: 10px 14px;
  font-weight: 600;
  font-size: 13.5px;
  border: 1px solid transparent;
  transition: transform .16s ease, background .16s ease, border-color .16s ease;
}
.btn:focus{ outline: 2px solid rgba(201,163,74,.7); outline-offset: 2px; }
.btn:hover{ transform: translateY(-1px); }

.btn--cta{
  background: rgba(255,255,255,.85);
  color: var(--text);
  border-color: rgba(201,163,74,.52);
}
.btn--cta:hover{
  background: rgba(201,163,74,.12);
  border-color: rgba(201,163,74,.85);
}
.btn--ghost{
  background: rgba(255,255,255,.6);
  border-color: rgba(21,24,27,.14);
  color: var(--text);
}
.btn--ghost:hover{
  border-color: rgba(201,163,74,.32);
  background: rgba(251,250,248,.95);
}
.btn--block{ width: 100%; }

/* Page head */
.page-head{ padding: 0 0 10px; }
.page-lead{ color: rgba(21,24,27,.78); margin: 0 0 14px; max-width: 78ch; }
.page-cta{ display:flex; gap: 12px; flex-wrap: wrap; }

/* FAQ */
.faq details{
  border: 1px solid rgba(21,24,27,.12);
  border-radius: var(--radius-sm);
  background: rgba(255,255,255,.9);
  padding: 12px 14px;
  margin: 10px 0;
}
.faq summary{ cursor:pointer; font-weight: 600; }
.faq p{ margin: 10px 0 0; }

/* Footer */
.site-footer{
  border-top: 1px solid var(--line);
  background: var(--paper);
  padding: 34px 18px 44px;
}
.footer__grid{
  max-width: var(--max);
  margin: 0 auto;
  display:grid;
  gap: 18px;
}
@media (min-width: 860px){
  .footer__grid{ grid-template-columns: 1.2fr .9fr .9fr .9fr; align-items:start; }
}
.footer__brand{
  display:flex;
  align-items:center;
  gap: 10px;
  font-family: var(--serif);
  text-transform: uppercase;
  letter-spacing: .08em;
  margin: 0 0 8px;
  font-weight: 600;
}
.footer__logo{
  width: 26px; height: 26px;
  border-radius: 10px;
  object-fit: contain;
  background: rgba(255,255,255,.8);
  border: 1px solid rgba(21,24,27,.08);
  padding: 5px;
}
.footer__title{ margin: 0 0 8px; font-weight: 600; }
.footer__links{ list-style:none; padding:0; margin:0; }
.footer__links li{ margin: 8px 0; }
.footer__links a{ text-decoration:none; color: rgba(21,24,27,.74); }
.footer__links a:hover{ color: var(--text); }
.footer__cta{ align-self:start; }

/* Reveal animations */
.reveal{
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .5s ease, transform .5s ease;
}
.reveal.is-visible{ opacity: 1; transform: translateY(0); }

/* Before/After component */
.ba-grid{ display:grid; gap: 18px; grid-template-columns: 1fr; }
@media (min-width: 900px){ .ba-grid{ grid-template-columns: 1fr 1fr; } }
.ba{
  margin: 0;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(21,24,27,.12);
  border-radius: var(--radius);
  padding: 14px;
  box-shadow: 0 1px 0 rgba(21,24,27,.02);
}
.ba__stage{
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(21,24,27,.10);
  --pos: 50%;
  background: #f5f5f5;
}
.ba__img{ width: 100%; height: auto; display:block; }
.ba__img--after{ position:absolute; inset:0; clip-path: inset(0 0 0 var(--pos)); }
.ba__label{
  position:absolute;
  top: 10px;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid rgba(21,24,27,.12);
  background: rgba(255,255,255,.82);
}
.ba__label--before{ left: 10px; }
.ba__label--after{ right: 10px; }
.ba__range{ width: 100%; margin-top: 12px; accent-color: var(--gold); }

/* Embeds */
.embed{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(21,24,27,.12);
  border-radius: var(--radius);
  padding: 12px;
  box-shadow: 0 1px 0 rgba(21,24,27,.02);
}
.embed iframe{ border:0; border-radius: 12px; background: #fff; }

/* YouTube lightweight embeds */
.yt-grid{ display:grid; gap: 14px; grid-template-columns: 1fr; }
@media (min-width: 860px){ .yt-grid{ grid-template-columns: repeat(3, 1fr); } }
.yt-card{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(21,24,27,.12);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: 0 1px 0 rgba(21,24,27,.02);
}
.yt{
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  background: linear-gradient(135deg, rgba(201,163,74,.18), rgba(21,24,27,.06));
  border: 1px solid rgba(21,24,27,.12);
  aspect-ratio: 16 / 9;
  margin: 10px 0 10px;
}
.yt__btn{ position:absolute; inset:0; width:100%; height:100%; border:0; background: transparent; cursor:pointer; }
.yt__play{
  position:absolute;
  left: 14px;
  bottom: 14px;
  width: 52px; height: 52px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.52);
  background: rgba(21,24,27,.24);
}
.yt__play::before{
  content:"";
  position:absolute;
  left: 20px; top: 16px;
  width:0;height:0;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-left: 16px solid #fff;
}
.yt__hint{ position:absolute; right: 14px; bottom: 18px; margin:0; color: rgba(255,255,255,.94); font-size: 12.5px; }

/* Prose for articles/legal */
.prose{ max-width: 78ch; }
.prose h1, .prose h2, .prose h3{
  font-family: var(--serif);
  text-transform: uppercase;
  letter-spacing: .07em;
  line-height: 1.12;
}
.prose h1{ font-size: clamp(24px, 2.8vw, 36px); margin: 0 0 14px; }
.prose h2{ font-size: 20px; margin: 26px 0 10px; }
.prose h3{ font-size: 17px; margin: 18px 0 10px; }
.prose p{ margin: 12px 0; }
.prose hr{ border:0; height:1px; background: rgba(21,24,27,.12); margin: 22px 0; }
.breadcrumb{ margin: 0 0 10px; color: rgba(95,102,112,.92); font-size: 13px; }
.cta-box{ margin: 18px 0; padding: 16px; border-radius: var(--radius); border: 1px solid rgba(201,163,74,.22); background: rgba(201,163,74,.08); }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior: auto; }
  .reveal{ transition: none; transform: none; opacity: 1; }
  .btn{ transition: none; }
  .nav__link{ transition: none; }
  .nav__link::after{ transition:none; }
}

/* Méthode (timeline simple) */
.timeline{
  display:grid;
  gap: 12px;
}
.step{
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(21,24,27,.12);
  border-radius: var(--radius);
  padding: 18px;
}
.step__title{
  font-family: var(--serif);
  text-transform: uppercase;
  letter-spacing: .07em;
  font-size: 17px;
  margin: 0 0 8px;
}
